(function(e){function t(t){for(var a,o,n=t[0],l=t[1],c=t[2],d=0,p=[];d<n.length;d++)o=n[d],Object.prototype.hasOwnProperty.call(i,o)&&i[o]&&p.push(i[o][0]),i[o]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(e[a]=l[a]);u&&u(t);while(p.length)p.shift()();return r.push.apply(r,c||[]),s()}function s(){for(var e,t=0;t<r.length;t++){for(var s=r[t],a=!0,n=1;n<s.length;n++){var l=s[n];0!==i[l]&&(a=!1)}a&&(r.splice(t--,1),e=o(o.s=s[0]))}return e}var a={},i={app:0},r=[];function o(t){if(a[t])return a[t].exports;var s=a[t]={i:t,l:!1,exports:{}};return e[t].call(s.exports,s,s.exports,o),s.l=!0,s.exports}o.m=e,o.c=a,o.d=function(e,t,s){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(o.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)o.d(s,a,function(t){return e[t]}.bind(null,a));return s},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/";var n=window["webpackJsonp"]=window["webpackJsonp"]||[],l=n.push.bind(n);n.push=t,n=n.slice();for(var c=0;c<n.length;c++)t(n[c]);var u=l;r.push([0,"chunk-vendors"]),s()})({0:function(e,t,s){e.exports=s("56d7")},"0282":function(e,t,s){},"0989":function(e,t,s){"use strict";s("e731")},"10fb":function(e,t,s){"use strict";s("0282")},"4f2c":function(e,t,s){},"56d7":function(e,t,s){"use strict";s.r(t);var a=s("2b0e"),i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{attrs:{id:"app"}},[s("router-view"),"offline"===e.state?s("div",{staticClass:"cover"},[e._m(0)]):e._e(),e.updateExists?s("div",{staticClass:"cover"},[s("div",[s("div",{staticClass:"icon download"}),e._v(" An update is available."),s("br"),s("br"),s("div",{staticClass:"buttons",staticStyle:{display:"inline-block",margin:"0 auto"}},[s("button",{staticClass:"button",staticStyle:{margin:"0 auto"},on:{click:e.refreshApp}},[e._v(" Update App ")])])])]):e._e(),s("transition",{attrs:{name:"fade"}},[Object.keys(e.alerts).length>0?s("div",{staticClass:"error_outer"},[s("div",{staticClass:"error_inner",class:e.alerts.type},[s("div",[e._v(e._s(e.alerts.message))]),s("button",{on:{click:function(t){return e.$store.dispatch("setAlert",{})}}})])]):e._e()])],1)},r=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("div",{staticClass:"icon offline"}),e._v(" You seem to be offline. ")])}],o={data(){return{refreshing:!1,registration:null,updateExists:!1}},created(){document.addEventListener("swUpdated",this.updateAvailable,{once:!0}),navigator.serviceWorker.addEventListener("controllerchange",()=>{this.refreshing||(this.refreshing=!0,window.location.reload())})},methods:{updateAvailable(e){this.registration=e.detail,this.updateExists=!0},refreshApp(){this.updateExists=!1,this.registration&&this.registration.waiting&&this.registration.waiting.postMessage({type:"SKIP_WAITING"})}}},n={name:"App",mixins:[o],data(){return{state:"",darkMode:"dark"===localStorage.getItem("theme")}},computed:{alerts(){return this.$store.getters.alerts}},watch:{darkMode:function(){this.checkTheme()}},methods:{checkTheme(){let e=document.documentElement;this.darkMode?(localStorage.setItem("theme","dark"),e.setAttribute("theme","dark")):(localStorage.setItem("theme","light"),e.setAttribute("theme","light"))}},mounted(){this.checkTheme(),window.addEventListener("offline",()=>{this.state="offline"}),window.addEventListener("online",()=>{this.state=""})}},l=n,c=(s("5c0b"),s("2877")),u=Object(c["a"])(l,i,r,!1,null,null,null),d=u.exports,p=s("9483");Object(p["a"])("/service-worker.js",{updated(e){document.dispatchEvent(new CustomEvent("swUpdated",{detail:e}))}});var m=s("8c4f"),h=s("260b"),v=(s("ea7b"),s("000b"),function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"home"},[s("Navigation"),s("div",{staticClass:"main"},[s("div",{staticClass:"hero"},[s("div",{staticClass:"title"},[e._v("7Cerebrum")]),s("div",{staticClass:"sub-title"},[e._v(" Submit your music/art and be a part of our journey. ")]),s("div",{staticClass:"buttons"},[s("button",{on:{click:function(t){return e.$router.push({path:"/account/login"})}}},[e._v(" Submit Art ")]),s("button",{on:{click:function(t){return e.$router.push({path:"/account/login"})}}},[e._v(" Submit Music ")])])])]),s("Footer")],1)}),g=[],_=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"outer-navigation",class:[["Dashboard","Submission","Updates"].includes(e.$route.name)&&e.isDesktop?"change":""]},[a("div",{staticClass:"navigation",class:e.navigationVisibleOnMobile?"mobile":""},[a("div",{staticClass:"logo"},[e.navigationVisibleOnMobile?e._e():a("img",{attrs:{src:s("9b19")}}),a("div",{staticClass:"btn hamburger hamburger--collapse",class:e.navigationVisibleOnMobile?"is-active":"",on:{click:function(t){e.navigationVisibleOnMobile=!e.navigationVisibleOnMobile}}},[e._m(0)])]),["Dashboard","Submission","Updates"].includes(e.$route.name)?a("nav",[a("router-link",{attrs:{to:"/submission"}},[e._v(e._s(e.user.flag>0?"All":"My")+" Submissions")]),a("router-link",{attrs:{to:e.user.flag>0?"/dashboard":"/updates"}},[e._v(e._s(e.user.flag>0?"Dashboard":"Updates"))]),void 0===e.user.flag||0===e.user.flag?a("router-link",{attrs:{to:"/submission/art"}},[e._v("Submit Art")]):e._e(),void 0===e.user.flag||0===e.user.flag?a("router-link",{attrs:{to:"/submission/music"}},[e._v("Submit Music")]):e._e(),a("router-link",{attrs:{to:"/submission/edit"}},[e._v("Account")]),void 0===e.user.flag||0===e.user.flag?a("router-link",{attrs:{to:"/submission/join"}},[e._v("Join us")]):e._e(),void 0===e.user.flag||0===e.user.flag?a("router-link",{attrs:{to:"/submission/contact"}},[e._v("Contact us")]):e._e(),a("router-link",{attrs:{to:"/submission/team"}},[e._v("Team")]),a("a",{staticClass:"switch",attrs:{disabled:""},on:{click:e.changeTheme}},[e._v(e._s("dark"===e.theme?"Light":"Dark")+" theme "),a("i",{class:"dark"===e.theme?"sun":"moon"})]),a("a",{on:{click:e.signoutUser}},[e._v("Logout")]),e._m(1)],1):a("nav",[a("router-link",{attrs:{to:"/"}},[e._v("Home")]),a("router-link",{attrs:{to:"/account/login"}},[e._v("Login")]),a("router-link",{attrs:{to:"/account/signup"}},[e._v("Sign up")]),a("router-link",{attrs:{to:"/team"}},[e._v("Team")]),a("router-link",{attrs:{to:"/contact"}},[e._v("Contact us")]),a("a",{staticClass:"switch",attrs:{disabled:""},on:{click:e.changeTheme}},[e._v(e._s("dark"===e.theme?"Light":"Dark")+" theme "),a("i",{class:"dark"===e.theme?"sun":"moon"})])],1)])])},b=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"hamburger-box"},[s("div",{staticClass:"hamburger-inner"})])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"socials"},[s("a",[s("i",{staticClass:"social spotify"})]),s("a",[s("i",{staticClass:"social twitter"})]),s("a",[s("i",{staticClass:"social discord"})]),s("a",[s("i",{staticClass:"social youtube"})])])}],f={name:"Navigation",data(){return{isDesktop:!0,navigationVisibleOnMobile:!1,theme:localStorage.getItem("theme")}},computed:{user(){return this.$store.getters.user}},watch:{"$route.path"(){this.isDesktop||this.navigationVisibleOnMobile&&(this.navigationVisibleOnMobile=!this.navigationVisibleOnMobile)}},methods:{changeTheme(){let e=document.documentElement;"dark"===this.theme?this.theme="light":this.theme="dark","dark"===this.theme?(localStorage.setItem("theme","dark"),e.setAttribute("theme","dark")):(localStorage.setItem("theme","light"),e.setAttribute("theme","light"))},signoutUser(){h["a"].auth().signOut(),window.location.reload()}},mounted(){this.theme=localStorage.getItem("theme"),this.isDesktop=window.innerWidth>850,window.addEventListener("resize",()=>{this.isDesktop=window.innerWidth>850,this.navigationVisibleOnMobile&&(this.navigationVisibleOnMobile=!this.navigationVisibleOnMobile)})}},y=f,w=(s("e30c"),Object(c["a"])(y,_,b,!1,null,"7bb30dd8",null)),$=w.exports,C=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},A=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"footer"},[s("nav",[s("a",[e._v("Terms")]),s("a",{attrs:{href:"https://youtube.com"}},[e._v("YouTube")]),s("a",{attrs:{href:"https://twitter.com"}},[e._v("Twitter")]),s("a",{attrs:{href:"https://instagram.com"}},[e._v("Instagram")]),s("a",{attrs:{href:"/"}},[e._v("Discord")])])])}],k={name:"Footer"},x=k,P=(s("10fb"),Object(c["a"])(x,C,A,!1,null,"05c155e4",null)),M=P.exports,S={name:"Home",components:{Navigation:$,Footer:M}},j=S,N=(s("c562"),Object(c["a"])(j,v,g,!1,null,"8d194e00",null)),O=N.exports,E=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"account"},[s("Navigation"),s("div",{staticClass:"form_container"},[s("div",{staticClass:"form"},[s("div",{staticClass:"title"},[e._v(" "+e._s("login"===e.route?"Login to your Account":"signup"===e.route?"Create a new Account":"Reset Password")),"password"===e.route?s("span",[e._v("Enter the email you used while signing up. We'll send you a link to reset your password.")]):e._e()]),"signup"===e.route?s("div",{staticClass:"group"},[s("div",[s("label",[e._v("Full Name")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.full_name,expression:"full_name"}],staticClass:"input",attrs:{type:"text",placeholder:"Full Name",autofocus:""},domProps:{value:e.full_name},on:{input:function(t){t.target.composing||(e.full_name=t.target.value)}}})])]):e._e(),s("div",{staticClass:"group"},[s("div",[s("label",[e._v("Email")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"}],staticClass:"input",attrs:{type:"email",placeholder:"Email",autofocus:""},domProps:{value:e.email},on:{input:function(t){t.target.composing||(e.email=t.target.value)}}})])]),"password"!==e.route?s("div",{staticClass:"group"},[s("div",[s("label",[e._v(" Password "),s("i",{class:e.password_visible?"eye-close":"eye-open",on:{click:function(t){e.password_visible=!e.password_visible}}})]),"checkbox"===(e.password_visible?"text":"password")?s("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],staticClass:"input",attrs:{placeholder:"Password",type:"checkbox"},domProps:{checked:Array.isArray(e.password)?e._i(e.password,null)>-1:e.password},on:{change:function(t){var s=e.password,a=t.target,i=!!a.checked;if(Array.isArray(s)){var r=null,o=e._i(s,r);a.checked?o<0&&(e.password=s.concat([r])):o>-1&&(e.password=s.slice(0,o).concat(s.slice(o+1)))}else e.password=i}}}):"radio"===(e.password_visible?"text":"password")?s("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],staticClass:"input",attrs:{placeholder:"Password",type:"radio"},domProps:{checked:e._q(e.password,null)},on:{change:function(t){e.password=null}}}):s("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],staticClass:"input",attrs:{placeholder:"Password",type:e.password_visible?"text":"password"},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}})])]):e._e(),"signup"===e.route?s("div",{staticClass:"label"},[s("div",[e._v(" By signing up, you agree with our "),s("router-link",{attrs:{to:"/legal/privacy"}},[e._v("privacy policy")]),e._v(" and "),s("router-link",{attrs:{to:"/legal/terms"}},[e._v("terms of use.")])],1)]):e._e(),s("div",{staticClass:"buttons"},["login"===e.route?s("button",{attrs:{disabled:"logging"===e.process},on:{click:e.account_login}},[e._v(" "+e._s("logging"===e.process?"logging in...":"Login")+" ")]):e._e(),"signup"===e.route?s("button",{attrs:{disabled:"creating"===e.process},on:{click:e.account_signup}},[e._v(" "+e._s("creating"===e.process?"creating...":"Create Account")+" ")]):e._e(),"password"!==e.route?s("button",{attrs:{disabled:"google"===e.process},on:{click:e.signinWithGoogle}},[s("i",{staticClass:"google"}),e._v("Sign "+e._s("signup"===e.route?"up":"in")+" with Google ")]):e._e(),"password"===e.route?s("button",{attrs:{disabled:"sending"===e.process},on:{click:e.account_password}},[e._v(" "+e._s("sending"===e.process?"sending...":"Send Email")+" ")]):e._e()]),s("div",{staticClass:"label"},["login"===e.route?s("div",[s("router-link",{attrs:{to:"password"}},[e._v("Forgot password?")])],1):e._e(),"password"!==e.route?s("div",[s("router-link",{attrs:{to:"login"===e.route?"signup":"login"}},[e._v("I "+e._s("login"===e.route?"don't":"already")+" have an Account")])],1):e._e(),"password"===e.route?s("div",[s("router-link",{attrs:{to:"login"}},[e._v("Back to Login")])],1):e._e()])])]),s("Footer")],1)},R=[],T=(s("e71f"),{name:"Account",components:{Navigation:$,Footer:M},data(){return{full_name:"",email:"",password:"",password_visible:!1,process:""}},computed:{route(){return this.$route.params.type}},methods:{account_login(){try{if(this.$store.dispatch("setAlert",{}),!this.email||!this.password)return this.$store.dispatch("setAlert",{message:"All fields required",type:"error"});this.process="logging",h["a"].auth().signInWithEmailAndPassword(this.email,this.password).then(()=>{this.$store.dispatch("setAlert",{}),this.process=""}).catch(e=>{this.process="";let t="";switch(e.code){case"auth/user-not-found":t="Invalid email or password";break;case"auth/wrong-password":t="Invalid email or password";break;default:t=e.message;break}this.$store.dispatch("setAlert",{message:t,type:"error"})})}catch(e){this.process="",this.$store.dispatch("setAlert",{message:"An error occurred, please try again",type:"Error"})}},async account_signup(){try{if(this.$store.dispatch("setAlert",{}),!this.full_name||!this.email||!this.password)return this.$store.dispatch("setAlert",{message:"All fields required.",type:"error"});this.process="creating",await h["a"].auth().createUserWithEmailAndPassword(this.email,this.password).then(async e=>(this.$store.dispatch("setAlert",{}),await h["a"].firestore().collection("users").doc(h["a"].auth().currentUser.uid).set({uid:h["a"].auth().currentUser.uid,name:this.full_name,email:this.email,updated:Date.now()},{merge:!0}),e.user.updateProfile({displayName:this.full_name}))),this.process=""}catch(e){this.process="",this.$store.dispatch("setAlert",{message:"An error occurred, please try again",type:"Error"})}},async account_password(){try{if(this.$store.dispatch("setAlert",{}),!this.email)return this.$store.dispatch("setAlert",{message:"All fields required",type:"error"});this.process="sending",await h["a"].auth().sendPasswordResetEmail(this.email),this.$store.dispatch("setAlert",{message:"Email sended, check your inbox.",type:"success"}),this.email="",this.process=""}catch(e){this.process="",this.$store.dispatch("setAlert",{message:"An error occurred, please try again",type:"error"})}},async signinWithGoogle(){try{this.process="google";let e=new h["a"].auth.GoogleAuthProvider;h["a"].auth().signInWithPopup(e).then(async e=>{let t=e.user;await h["a"].firestore().collection("users").doc(t.uid).set({uid:t.uid,name:t.displayName,email:t.email,updated:Date.now()},{merge:!0})}).catch(()=>{this.process="",this.$store.dispatch("setAlert",{message:"An error occurred, please try again",type:"Error"})})}catch(e){this.process="",this.$store.dispatch("setAlert",{message:"An error occurred, please try again",type:"Error"})}}}}),U=T,L=(s("d12f"),Object(c["a"])(U,E,R,!1,null,"24568696",null)),I=L.exports,D=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{class:void 0!==e.type?"leftAlign":""},[void 0===e.type?s("Navigation"):e._e(),s("div",{staticClass:"main"},[e._m(0),e.user.flag>=2?s("section",[s("div",{staticClass:"sub-title"},[e._v(" Add Team Members ")]),s("div",{staticClass:"group"},[s("div",{staticStyle:{flex:"1"}},[s("label",[e._v("Member Name")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.name,expression:"name"}],staticClass:"input",attrs:{type:"text",placeholder:"Member Name"},domProps:{value:e.name},on:{input:function(t){t.target.composing||(e.name=t.target.value)}}})]),s("div",{staticStyle:{flex:"1"}},[s("label",[e._v("Member Role")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.role,expression:"role"}],staticClass:"input",attrs:{type:"text",placeholder:"Member Role"},domProps:{value:e.role},on:{input:function(t){t.target.composing||(e.role=t.target.value)}}})])]),s("div",{staticClass:"buttons"},[s("button",{attrs:{disabled:"add"===e.process},on:{click:e.addMember}},[e._v(" "+e._s("add"===e.process?"adding":"Add Member")+" ")])])]):e._e(),s("div",{staticClass:"team",class:e.user.flag>=2?"admin":""},e._l(e.team,(function(t,a){return s("div",{key:a,staticClass:"user"},[s("div",{staticClass:"name"},[e._v(" "+e._s(t.name)),s("span",[e._v(e._s(t.role))])]),e.user.flag>=2?s("button",{staticClass:"btn",class:"removing"===e.process?"wait":"",attrs:{disabled:"removing"===e.process},on:{click:function(s){return e.removeMember(t.name,t.role)}}}):e._e()])})),0)]),void 0===e.type?s("Footer"):e._e()],1)},F=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"header"},[e._v(" Team"),s("span",[e._v("These are the people that makes everything run seamlessly.")])])}],q={name:"Team",components:{Navigation:$,Footer:M},props:["type"],data(){return{process:"",name:"",role:""}},computed:{user(){return this.$store.getters.user},team(){return this.$store.getters.team}},methods:{async addMember(){try{if(!this.name||!this.role)return this.$store.dispatch("setAlert",{message:"All fields required",type:"error"});this.process="add",await h["a"].firestore().collection("team").doc("all").update({all:h["a"].firestore.FieldValue.arrayUnion({name:this.name,role:this.role}),updated:Date.now()}),this.$store.dispatch("setTeamMember",{type:"add",data:{name:this.name,role:this.role}}),this.$store.dispatch("setAlert",{message:this.name+" added as team member.",type:"success"}),Object.assign(this.$data,this.$options.data.apply(this))}catch(e){Object.assign(this.$data,this.$options.data.apply(this)),this.$store.dispatch("setAlert",{message:"There was an error, please try again.",type:"error"})}},async removeMember(e,t){try{this.process="removing",await h["a"].firestore().collection("team").doc("all").update({all:h["a"].firestore.FieldValue.arrayRemove({name:e,role:t}),updated:Date.now()}),this.$store.dispatch("setTeamMember",{type:"remove",data:{name:e,role:t}}),Object.assign(this.$data,this.$options.data.apply(this)),this.$store.dispatch("setAlert",{message:e+" removed as team member.",type:"success"})}catch(s){Object.assign(this.$data,this.$options.data.apply(this)),this.$store.dispatch("setAlert",{message:"There was an error, please try again.",type:"error"})}}},mounted(){this.$store.dispatch("getTeam")}},H=q,W=(s("b9b2"),Object(c["a"])(H,D,F,!1,null,"012771f7",null)),J=W.exports,V=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"contact-page",class:void 0!==e.type?"leftAlign":""},[void 0===e.type?s("Navigation"):e._e(),s("div",{staticClass:"main"},[e._m(0),s("div",{staticClass:"contact"},[s("div",{staticClass:"inputs"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.message.author,expression:"message.author"}],attrs:{type:"text",placeholder:"Full Name"},domProps:{value:e.message.author},on:{input:function(t){t.target.composing||e.$set(e.message,"author",t.target.value)}}}),s("input",{directives:[{name:"model",rawName:"v-model",value:e.message.email,expression:"message.email"}],attrs:{type:"email",placeholder:"Email"},domProps:{value:e.message.email},on:{input:function(t){t.target.composing||e.$set(e.message,"email",t.target.value)}}})]),s("textarea",{directives:[{name:"model",rawName:"v-model",value:e.message.content,expression:"message.content"}],attrs:{placeholder:"Message",rows:"4"},domProps:{value:e.message.content},on:{input:function(t){t.target.composing||e.$set(e.message,"content",t.target.value)}}}),s("button",{attrs:{disabled:"message"===e.process},on:{click:e.sendMessage}},[e._v(" "+e._s("message"===e.process?"sending...":"Send Message")+" ")])])]),void 0===e.type?s("Footer"):e._e()],1)},B=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"header"},[e._v(" Contact Us"),s("span",[e._v("Contact us in case you got any query or just hit us up on socials.")])])}],z={name:"Contact",components:{Navigation:$,Footer:M},props:["type"],data(){return{process:"",message:{author:"",email:"",content:"",type:"contact"}}},methods:{async sendMessage(){try{let e=await Object.keys(this.message).map(e=>""===this.message[e]);if(0!==e.filter(e=>e).length)return this.$store.dispatch("setAlert",{message:"All fields are required.",type:"error"});if(!/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/.test(this.message.email))return this.$store.dispatch("setAlert",{message:"Please enter a valid email",type:"error"});this.$store.dispatch("setAlert",{}),this.process="message",await fetch("/api/v1/message",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify(this.message)}).then(e=>{if(!e.ok)throw new Error;return e.json()}).catch(()=>{throw new Error}),this.$store.dispatch("setAlert",{message:"Message sended, we'll contact you soon.",type:"success"}),Object.assign(this.$data,this.$options.data.apply(this))}catch(e){Object.assign(this.$data,this.$options.data.apply(this)),this.$store.dispatch("setAlert",{message:"An error occurred, please try again",type:"Error"})}}}},G=z,Y=(s("b4e4"),Object(c["a"])(G,V,B,!1,null,"1880cc30",null)),Z=Y.exports,K=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("Navigation"),s("div",{staticClass:"main"},["/submission"===e.$route.path?s("Submissions"):e._e(),["art","music","edit"].includes(e.$route.params.type)?s("Submit"):e._e(),"/submission/join"===e.$route.path?s("Join",{attrs:{type:"logged"}}):e._e(),"/submission/contact"===e.$route.path?s("Contact",{attrs:{type:"logged"}}):e._e(),"/submission/team"===e.$route.path?s("Team",{attrs:{type:"logged"}}):e._e()],1)],1)},Q=[],X=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"modal"},[s("div",{staticClass:"title"},[e._v(" "+e._s("edit"===e.route?"Edit Account":"art"===e.route?"Submit Art":"Submit Music")+" "),"edit"===e.route?s("span",[e._v(" This information helps use reach out to you. Make sure you keep them up to date. ")]):e._e()]),"edit"===e.route?s("section",[s("div",{staticClass:"sub-title"},[e._v("My Account")]),s("div",{staticClass:"group"},[s("div",[s("label",[e._v("Full Name")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.user.name,expression:"user.name"}],staticClass:"input",attrs:{type:"text",placeholder:"Name"},domProps:{value:e.user.name},on:{input:function(t){t.target.composing||e.$set(e.user,"name",t.target.value)}}})]),s("div",[s("label",[e._v("Email")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.user.email,expression:"user.email"}],staticClass:"input",attrs:{type:"text",placeholder:"Email"},domProps:{value:e.user.email},on:{input:function(t){t.target.composing||e.$set(e.user,"email",t.target.value)}}})]),e.email_changed?s("div",[s("label",[e._v("Password")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.email_password_change,expression:"email_password_change"}],staticClass:"input",attrs:{type:"password",placeholder:"Password"},domProps:{value:e.email_password_change},on:{input:function(t){t.target.composing||(e.email_password_change=t.target.value)}}})]):e._e()]),s("div",{staticClass:"group"},[s("div",[s("label",[e._v("City (optional)")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.user.about.city,expression:"user.about.city"}],staticClass:"input",attrs:{type:"text",placeholder:"City"},domProps:{value:e.user.about.city},on:{input:function(t){t.target.composing||e.$set(e.user.about,"city",t.target.value)}}})]),s("div",[s("label",[e._v("State/Povince (optional)")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.user.about.state_povince,expression:"user.about.state_povince"}],staticClass:"input",attrs:{type:"text",placeholder:"State/Povince"},domProps:{value:e.user.about.state_povince},on:{input:function(t){t.target.composing||e.$set(e.user.about,"state_povince",t.target.value)}}})]),s("div",[s("label",[e._v("Country (optional)")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.user.about.country,expression:"user.about.country"}],staticClass:"input",attrs:{type:"text",placeholder:"Country"},domProps:{value:e.user.about.country},on:{input:function(t){t.target.composing||e.$set(e.user.about,"country",t.target.value)}}})])]),s("div",{staticClass:"group"},[s("div",[s("label",[e._v("Job Title (optional)")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.user.about.job_title,expression:"user.about.job_title"}],staticClass:"input",attrs:{type:"text",placeholder:"Job Title"},domProps:{value:e.user.about.job_title},on:{input:function(t){t.target.composing||e.$set(e.user.about,"job_title",t.target.value)}}})]),s("div",[s("label",[e._v("Company (optional)")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.user.about.company,expression:"user.about.company"}],staticClass:"input",attrs:{type:"text",placeholder:"Company"},domProps:{value:e.user.about.company},on:{input:function(t){t.target.composing||e.$set(e.user.about,"company",t.target.value)}}})]),s("div",[s("label",[e._v("Website (optional)")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.user.about.website,expression:"user.about.website"}],staticClass:"input",attrs:{type:"text",placeholder:"Website"},domProps:{value:e.user.about.website},on:{input:function(t){t.target.composing||e.$set(e.user.about,"website",t.target.value)}}})])]),s("div",{staticClass:"buttons"},[s("button",{attrs:{disabled:"saving"===e.process},on:{click:e.saveUserInfo}},[e._v(" "+e._s("saving"===e.process?"saving...":"Save")+" ")])]),s("div",{staticClass:"sub-title"},[e._v("Change Password")]),s("div",{staticClass:"group"},[s("div",[s("label",[e._v("Old Password"),s("i",{class:e.password_visible_old?"eye-close":"eye-open",on:{click:function(t){e.password_visible_old=!e.password_visible_old}}})]),"checkbox"===(e.password_visible_old?"text":"password")?s("input",{directives:[{name:"model",rawName:"v-model",value:e.old_password,expression:"old_password"}],staticClass:"input",attrs:{placeholder:"Old Password",type:"checkbox"},domProps:{checked:Array.isArray(e.old_password)?e._i(e.old_password,null)>-1:e.old_password},on:{change:function(t){var s=e.old_password,a=t.target,i=!!a.checked;if(Array.isArray(s)){var r=null,o=e._i(s,r);a.checked?o<0&&(e.old_password=s.concat([r])):o>-1&&(e.old_password=s.slice(0,o).concat(s.slice(o+1)))}else e.old_password=i}}}):"radio"===(e.password_visible_old?"text":"password")?s("input",{directives:[{name:"model",rawName:"v-model",value:e.old_password,expression:"old_password"}],staticClass:"input",attrs:{placeholder:"Old Password",type:"radio"},domProps:{checked:e._q(e.old_password,null)},on:{change:function(t){e.old_password=null}}}):s("input",{directives:[{name:"model",rawName:"v-model",value:e.old_password,expression:"old_password"}],staticClass:"input",attrs:{placeholder:"Old Password",type:e.password_visible_old?"text":"password"},domProps:{value:e.old_password},on:{input:function(t){t.target.composing||(e.old_password=t.target.value)}}})]),s("div",[s("label",[e._v("New Password "),s("i",{class:e.password_visible_new?"eye-close":"eye-open",on:{click:function(t){e.password_visible_new=!e.password_visible_new}}})]),"checkbox"===(e.password_visible_new?"text":"password")?s("input",{directives:[{name:"model",rawName:"v-model",value:e.new_password,expression:"new_password"}],staticClass:"input",attrs:{placeholder:"New Password",type:"checkbox"},domProps:{checked:Array.isArray(e.new_password)?e._i(e.new_password,null)>-1:e.new_password},on:{change:function(t){var s=e.new_password,a=t.target,i=!!a.checked;if(Array.isArray(s)){var r=null,o=e._i(s,r);a.checked?o<0&&(e.new_password=s.concat([r])):o>-1&&(e.new_password=s.slice(0,o).concat(s.slice(o+1)))}else e.new_password=i}}}):"radio"===(e.password_visible_new?"text":"password")?s("input",{directives:[{name:"model",rawName:"v-model",value:e.new_password,expression:"new_password"}],staticClass:"input",attrs:{placeholder:"New Password",type:"radio"},domProps:{checked:e._q(e.new_password,null)},on:{change:function(t){e.new_password=null}}}):s("input",{directives:[{name:"model",rawName:"v-model",value:e.new_password,expression:"new_password"}],staticClass:"input",attrs:{placeholder:"New Password",type:e.password_visible_new?"text":"password"},domProps:{value:e.new_password},on:{input:function(t){t.target.composing||(e.new_password=t.target.value)}}})])]),s("div",{staticClass:"buttons"},[s("button",{attrs:{disabled:"change_password"===e.process},on:{click:e.change_password}},[e._v(" "+e._s("change_password"===e.process?"changing...":"Change Password")+" ")])])]):e._e(),"music"===e.route||"art"===e.route?s("section",[s("div",{staticClass:"sub-title"},[e._v("Details")]),s("div",{staticClass:"group"},[s("div",[s("label",[e._v("Artist Name")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.$data[e.route].artist_name,expression:"$data[route].artist_name"}],staticClass:"input",attrs:{type:"text",placeholder:"Artist Name"},domProps:{value:e.$data[e.route].artist_name},on:{input:function(t){t.target.composing||e.$set(e.$data[e.route],"artist_name",t.target.value)}}})]),s("div",[s("label",[e._v(e._s("art"===e.route?"Art":"Song")+" Title")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.$data[e.route].title,expression:"$data[route].title"}],staticClass:"input",attrs:{type:"text",placeholder:"art"===e.route?"Art Title":"Song Title"},domProps:{value:e.$data[e.route].title},on:{input:function(t){t.target.composing||e.$set(e.$data[e.route],"title",t.target.value)}}})])]),"music"===e.route?s("div",{staticClass:"group"},[s("div",[s("label",[e._v("Album Title (optional)")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.$data[e.route].optional_album_title,expression:"$data[route].optional_album_title"}],staticClass:"input",attrs:{type:"text",placeholder:"Album Title"},domProps:{value:e.$data[e.route].optional_album_title},on:{input:function(t){t.target.composing||e.$set(e.$data[e.route],"optional_album_title",t.target.value)}}})]),s("div",[s("label",[e._v("Release Date")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.$data[e.route].release,expression:"$data[route].release"}],staticClass:"input",attrs:{type:"date"},domProps:{value:e.$data[e.route].release},on:{input:function(t){t.target.composing||e.$set(e.$data[e.route],"release",t.target.value)}}})])]):e._e(),"music"===e.route?s("div",{staticClass:"group"},[s("div",[s("label",[e._v("Record Label (optional)")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.$data[e.route].optional_record_label,expression:"$data[route].optional_record_label"}],staticClass:"input",attrs:{type:"text",placeholder:"Record Label"},domProps:{value:e.$data[e.route].optional_record_label},on:{input:function(t){t.target.composing||e.$set(e.$data[e.route],"optional_record_label",t.target.value)}}})]),s("div",[s("label",[e._v("Purchase URL (optional)")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.$data[e.route].optional_purchase_url,expression:"$data[route].optional_purchase_url"}],staticClass:"input",attrs:{type:"text",placeholder:"Website URL"},domProps:{value:e.$data[e.route].optional_purchase_url},on:{input:function(t){t.target.composing||e.$set(e.$data[e.route],"optional_purchase_url",t.target.value)}}})])]):e._e(),s("div",{staticClass:"group"},[s("div",[s("label",[e._v(e._s("art"===e.route?"Art Type":"Music Genre"))]),"art"===e.route?s("select",{directives:[{name:"model",rawName:"v-model",value:e.$data[e.route].type,expression:"$data[route].type"}],staticClass:"input",on:{change:function(t){var s=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.$data[e.route],"type",t.target.multiple?s:s[0])}}},[s("option",[e._v("Illustration")]),s("option",[e._v("Photograph")])]):e._e(),"music"===e.route?s("select",{directives:[{name:"model",rawName:"v-model",value:e.$data[e.route].type,expression:"$data[route].type"}],staticClass:"input",on:{change:function(t){var s=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.$data[e.route],"type",t.target.multiple?s:s[0])}}},e._l(e.genres,(function(t){return s("option",{key:t},[e._v(e._s(t))])})),0):e._e()]),s("div",[s("label",[e._v("Choose "+e._s("art"===e.route?"Art":"Music"))]),s("label",{ref:"file",staticClass:"input",staticStyle:{cursor:"pointer"},attrs:{for:"file"}},[e._v("Click here to Choose File "+e._s("art"===e.route?"(1920x1080px)":"(320kbps)"))]),s("input",{ref:"fileInput",staticStyle:{display:"none"},attrs:{id:"file",type:"file",accept:"art"===e.route?"image/jpeg, image/png":"audio/mp3"},on:{change:e.changeMedia}})])]),s("div",{staticClass:"sub-title"},[e._v("Socials")]),s("div",{staticClass:"group"},[s("div",[s("label",[e._v("Spotify "+e._s("music"===e.route?"":"(optional)"))]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.$data[e.route].socials.spotify,expression:"$data[route].socials.spotify"}],staticClass:"input",attrs:{type:"text",placeholder:"https://open.spotify.com/artist/abc"},domProps:{value:e.$data[e.route].socials.spotify},on:{input:function(t){t.target.composing||e.$set(e.$data[e.route].socials,"spotify",t.target.value)}}})]),s("div",[s("label",[e._v("Soundcloud (optional)")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.$data[e.route].socials.soundcloud,expression:"$data[route].socials.soundcloud"}],staticClass:"input",attrs:{type:"text",placeholder:"https://soundcloud.com/abc"},domProps:{value:e.$data[e.route].socials.soundcloud},on:{input:function(t){t.target.composing||e.$set(e.$data[e.route].socials,"soundcloud",t.target.value)}}})])]),s("div",{staticClass:"group"},[s("div",[s("label",[e._v("Twitter (optional)")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.$data[e.route].socials.twitter,expression:"$data[route].socials.twitter"}],staticClass:"input",attrs:{type:"text",placeholder:"Twitter Username"},domProps:{value:e.$data[e.route].socials.twitter},on:{input:function(t){t.target.composing||e.$set(e.$data[e.route].socials,"twitter",t.target.value)}}})]),s("div",[s("label",[e._v("Instagram (optional)")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.$data[e.route].socials.instagram,expression:"$data[route].socials.instagram"}],staticClass:"input",attrs:{type:"text",placeholder:"Instagram Username"},domProps:{value:e.$data[e.route].socials.instagram},on:{input:function(t){t.target.composing||e.$set(e.$data[e.route].socials,"instagram",t.target.value)}}})])]),s("div",{staticClass:"group"},[s("div",[s("label",[e._v("YouTube (optional)")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.$data[e.route].socials.youtube,expression:"$data[route].socials.youtube"}],staticClass:"input",attrs:{type:"text",placeholder:"https://youtube.com/channel/abc"},domProps:{value:e.$data[e.route].socials.youtube},on:{input:function(t){t.target.composing||e.$set(e.$data[e.route].socials,"youtube",t.target.value)}}})]),s("div",[s("label",[e._v("Website (optional)")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.$data[e.route].socials.website,expression:"$data[route].socials.website"}],staticClass:"input",attrs:{type:"text",placeholder:"https://yourwebsite.com"},domProps:{value:e.$data[e.route].socials.website},on:{input:function(t){t.target.composing||e.$set(e.$data[e.route].socials,"website",t.target.value)}}})])])]):e._e(),s("div",{staticClass:"buttons"},["art"===e.route?s("button",{attrs:{disabled:"Art"===e.process},on:{click:function(t){return e.saveMedia("Art")}}},[e._v(" "+e._s("Art"===e.process?"submitting...":"Submit Art")+" ")]):e._e(),"music"===e.route?s("button",{attrs:{disabled:"Music"===e.process},on:{click:function(t){return e.saveMedia("Music")}}},[e._v(" "+e._s("Music"===e.process?"submitting...":"Submit Music")+" ")]):e._e()])])},ee=[],te=(s("588e"),{name:"Submit",data(){return{process:"",email_password_change:"",new_password:"",old_password:"",email_changed:!1,password_visible_old:!1,password_visible_new:!1,media:{name:"",mime:"",url:""},genres:s("9fe8"),art:{title:"",submission_type:"Art",type:"Illustration",artist_name:"",socials:{spotify:"",youtube:"",twitter:"",instagram:"",soundcloud:"",website:""}},music:{title:"",submission_type:"Music",type:"Acoustic",optional_album_title:"",release:"",optional_record_label:"",optional_purchase_url:"",artist_name:"",socials:{spotify:"",youtube:"",twitter:"",instagram:"",soundcloud:"",website:""}}}},computed:{user(){return this.$store.getters.user},route(){return this.$route.params.type}},watch:{route(){Object.assign(this.$data,this.$options.data.apply(this)),void 0!==this.$refs.fileInput&&(this.$refs.fileInput.value=null,this.$refs.file.innerHTML="Click here to Choose File "+("art"===this.route?"(1920x1080px)":"(320kbps)"))},"user.email"(e){this.email_changed=!(e===h["a"].auth().currentUser.email)}},methods:{setMedia(e){this.media.name=e.name,this.media.mime=e.type,this.media.url=URL.createObjectURL(e),this.$refs.file.innerHTML=e.name},changeMedia(e){if(this.$store.dispatch("setAlert",{}),e.target.files[0])if(e.target.files[0].type.startsWith("image")){let t=new Image;t.src=URL.createObjectURL(e.target.files[0]),t.onload=()=>{if(1920!==t.width&&1080!==t.height)return this.$store.dispatch("setAlert",{message:"You can only upload images of dimension 1920x1080.",type:"error"});URL.revokeObjectURL(t.src),this.setMedia(e.target.files[0])}}else{let t=new Audio;t.src=URL.createObjectURL(e.target.files[0]),t.oncanplaythrough=()=>{let s=e.target.files[0].size/128;if(16*Math.ceil(Math.round(s/t.duration)/16)!==320)return this.$store.dispatch("setAlert",{message:"You can only upload music with a bitrate of 320kbps.",type:"error"});URL.revokeObjectURL(t.src),this.setMedia(e.target.files[0])}}},async saveMedia(e){try{let t=Date.now(),s=await Object.keys(this.$data[e.toLowerCase()]).map(t=>!t.startsWith("optional_")&&""===this.$data[e.toLowerCase()][t]);if(0!==s.filter(e=>e).length||""===this.media.url||"Music"===e&&""===this.$data[e.toLowerCase()].socials.spotify)return this.$store.dispatch("setAlert",{message:"All fields except optionals are required.",type:"error"});this.$store.dispatch("setAlert",{}),this.process=e;let a=h["a"].storage().ref().child(`${e}/${this.user.uid}/${t}.${this.media.name.split(".").pop()}`),i=await fetch(this.media.url).then(e=>e.blob());await a.put(i,{contentType:this.media.mime}),await h["a"].firestore().collection("submissions").doc().set(Object.assign(this.$data[e.toLowerCase()],{author:this.user.uid,mediaId:`${t}.${this.media.name.split(".").pop()}`,status:"Under Review",time:t})),this.$store.dispatch("setSubmission",Object.assign(this.$data[e.toLowerCase()],{author:this.user,mediaURL:this.media.url,status:"Under Review",time:t})),void 0!==this.$refs.fileInput&&(this.$refs.fileInput.value=null,this.$refs.file.innerHTML="Click here to Choose File "+("art"===this.route?"(1920x1080px)":"(320kbps)")),Object.assign(this.$data,this.$options.data.apply(this)),this.$store.dispatch("setAlert",{message:"Submission submitted.",type:"success"})}catch(t){URL.revokeObjectURL(this.media.url),void 0!==this.$refs.fileInput&&(this.$refs.fileInput.value=null,this.$refs.file.innerHTML="Click here to Choose File "+("art"===this.route?"(1920x1080px)":"(320kbps)")),Object.assign(this.$data,this.$options.data.apply(this)),this.$store.dispatch("setAlert",{message:"An error occurred, please try again",type:"error"})}},async saveAccount(){try{console.log(Object.assign(this.user,{updated:Date.now()})),await h["a"].firestore().collection("users").doc(h["a"].auth().currentUser.uid).update(Object.assign(this.user,{updated:Date.now()})),await h["a"].auth().currentUser.updateProfile({displayName:this.user.name}),Object.assign(this.$data,this.$options.data.apply(this)),this.$store.dispatch("setAlert",{message:"Account updated.",type:"success"})}catch(e){console.log(e),Object.assign(this.$data,this.$options.data.apply(this)),this.$store.dispatch("setAlert",{message:"An error occurred, please try again",type:"error"})}},async saveUserInfo(){try{if(!this.user.name||!this.user.email||this.email_changed&&!this.email_password_change)return this.$store.dispatch("setAlert",{message:"All fields except optional are required.",type:"error"});if(this.process="saving",this.email_changed){const e=h["a"].auth().currentUser,t=h["a"].auth.EmailAuthProvider.credential(e.email,this.email_password_change);e.reauthenticateWithCredential(t).then(()=>{e.updateEmail(this.user.email).then(()=>{this.saveAccount()}).catch(()=>{this.user.email=h["a"].auth().currentUser.email,Object.assign(this.$data,this.$options.data.apply(this)),this.$store.dispatch("setAlert",{message:"An error occurred, please try again",type:"error"})})}).catch(e=>{this.user.email=h["a"].auth().currentUser.email,this.$store.dispatch("setAlert",{message:e.message,type:"error"}),Object.assign(this.$data,this.$options.data.apply(this))})}else this.saveAccount()}catch(e){Object.assign(this.$data,this.$options.data.apply(this)),this.$store.dispatch("setAlert",{message:"An error occurred, please try again",type:"error"})}},async change_password(){try{if(!this.old_password||!this.new_password)return this.$store.dispatch("setAlert",{message:"All fields are required.",type:"error"});this.process="change_password";const e=h["a"].auth().currentUser,t=h["a"].auth.EmailAuthProvider.credential(e.email,this.old_password);e.reauthenticateWithCredential(t).then(()=>{e.updatePassword(this.new_password).then(()=>{this.$store.dispatch("setAlert",{message:"Password succesfully changed.",type:"success"}),Object.assign(this.$data,this.$options.data.apply(this))}).catch(()=>{Object.assign(this.$data,this.$options.data.apply(this)),this.$store.dispatch("setAlert",{message:"An error occurred, please try again",type:"error"})})}).catch(e=>{this.$store.dispatch("setAlert",{message:e.message,type:"error"}),Object.assign(this.$data,this.$options.data.apply(this))})}catch(e){Object.assign(this.$data,this.$options.data.apply(this)),this.$store.dispatch("setAlert",{message:"An error occurred, please try again",type:"error"})}}}}),se=te,ae=(s("ec2e"),Object(c["a"])(se,X,ee,!1,null,"05ca3c30",null)),ie=ae.exports,re=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"join",class:void 0!==e.type?"leftAlign":""},[void 0===e.type?s("Navigation"):e._e(),s("div",{staticClass:"main"},[e._m(0),s("div",{staticClass:"contact"},[s("div",{staticClass:"inputs"},[s("input",{directives:[{name:"model",rawName:"v-model.number",value:e.message.author,expression:"message.author",modifiers:{number:!0}}],attrs:{type:"text",placeholder:"Name"},domProps:{value:e.message.author},on:{input:function(t){t.target.composing||e.$set(e.message,"author",e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}}),s("input",{directives:[{name:"model",rawName:"v-model",value:e.message.email,expression:"message.email"}],attrs:{type:"email",placeholder:"Email"},domProps:{value:e.message.email},on:{input:function(t){t.target.composing||e.$set(e.message,"email",t.target.value)}}})]),s("div",{staticClass:"inputs"},[s("input",{directives:[{name:"model",rawName:"v-model.number",value:e.message.content.age,expression:"message.content.age",modifiers:{number:!0}}],attrs:{type:"number",placeholder:"Age"},domProps:{value:e.message.content.age},on:{input:function(t){t.target.composing||e.$set(e.message.content,"age",e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}}),s("input",{directives:[{name:"model",rawName:"v-model",value:e.message.content.location,expression:"message.content.location"}],attrs:{type:"text",placeholder:"Location"},domProps:{value:e.message.content.location},on:{input:function(t){t.target.composing||e.$set(e.message.content,"location",t.target.value)}}})]),s("textarea",{directives:[{name:"model",rawName:"v-model",value:e.message.content.socials,expression:"message.content.socials"}],attrs:{placeholder:"Social Media Handles (eg. twitter.com/abc, instagram.com/abc)"},domProps:{value:e.message.content.socials},on:{input:function(t){t.target.composing||e.$set(e.message.content,"socials",t.target.value)}}}),s("textarea",{directives:[{name:"model",rawName:"v-model",value:e.message.content.questions[0].answer,expression:"message.content.questions[0].answer"}],attrs:{placeholder:"What makes you passionate about 7Cerebrum?"},domProps:{value:e.message.content.questions[0].answer},on:{input:function(t){t.target.composing||e.$set(e.message.content.questions[0],"answer",t.target.value)}}}),s("textarea",{directives:[{name:"model",rawName:"v-model",value:e.message.content.questions[1].answer,expression:"message.content.questions[1].answer"}],attrs:{placeholder:"Tell us a little bit about yourself and what can you help us with?"},domProps:{value:e.message.content.questions[1].answer},on:{input:function(t){t.target.composing||e.$set(e.message.content.questions[1],"answer",t.target.value)}}}),s("button",{attrs:{disabled:"submiting"===e.process},on:{click:e.submit}},[e._v(" "+e._s("submiting"===e.process?"submiting...":"Submit")+" ")])])]),void 0===e.type?s("Footer"):e._e()],1)},oe=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"header"},[e._v(" Join Us"),s("span",[e._v("Join us to change the way people hear music.")])])}],ne={name:"Join",components:{Navigation:$,Footer:M},props:["type"],data(){return{process:"",message:{type:"join",content:{author:"",email:"",age:"",location:"",socials:"",questions:[{question:"What makes you passionate about 7Cerebrum?",answer:""},{question:"Tell us a little bit about yourself and what can you help us with?",answer:""}]}}}},methods:{async submit(){try{let e=await Object.keys(this.message).map(e=>"content"===e?Object.keys(this.message[e]).map(t=>"questions"===t?this.message[e][t].map(e=>!e.answer):!this.message[e][t]):!this.message[e]);if(8!==e.flat(2).filter(e=>!e).length)return this.$store.dispatch("setAlert",{message:"All fields required.",type:"Error"});this.$store.dispatch("setAlert",{}),this.process="submiting",await fetch("/api/v1/message",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify(this.message)}).then(e=>{if(!e.ok)throw new Error;return e.json()}).catch(()=>{throw new Error}),this.$store.dispatch("setAlert",{message:"Message sended, We'll contact you soon.",type:"success"}),Object.assign(this.$data,this.$options.data.apply(this))}catch(e){Object.assign(this.$data,this.$options.data.apply(this)),this.$store.dispatch("setAlert",{message:"An error occurred, please try again",type:"Error"})}}}},le=ne,ce=(s("fded"),Object(c["a"])(le,re,oe,!1,null,"ce60e964",null)),ue=ce.exports,de=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("swiper",{ref:"swiper",staticClass:"table-container",class:e.isDesktop?"swiper-no-swiping":"",attrs:{options:e.swiperOptions}},e._l(["Art","Music"],(function(t){return s("swiper-slide",{key:t,staticClass:"table"},[s("header",[s("div",[e._v(e._s(t))]),0!==e.submissions[t].length?s("select",{on:{change:function(s){return e.$store.dispatch("filterSubmissions",[s,t])}}},[s("option",[e._v("By Time")]),s("option",[e._v("Recent")]),s("option",[e._v("Older")])]):e._e()]),0===e.submissions[t].length?s("p",[e._v(" No "+e._s(t)+" Submissions yet. ")]):e._l(e.submissions[t],(function(a,i){return s("div",{key:i,staticClass:"row"},[s("div",{staticClass:"user"},[s("div",{staticClass:"name"},[e._v(" "+e._s(a.author.name)+" "),s("span",[e._v(" "+e._s(new Date(a.time).toLocaleDateString()+" at "+new Date(a.time).toLocaleTimeString()))])]),s("div",{staticClass:"actions"},[void 0===e.user.flag||0===e.user.flag||"Under Review"!==a.status?s("div",{staticClass:"status",class:a.status},[e._v(" "+e._s(a.status)+" ")]):e._e(),void 0!==e.user.flag&&"Rejected"!==a.status?s("button",{directives:[{name:"tooltip",rawName:"v-tooltip.auto",value:{content:"Download"},expression:"{\n              content: 'Download'\n            }",modifiers:{auto:!0}}],staticClass:"btn download",class:e.process===a.id+"_download"?"wait":"",attrs:{disabled:e.process.startsWith(a.id)},on:{click:function(s){return e.downloadMedia(t,i)}}}):e._e(),e.user.flag>0&&"Under Review"===a.status?s("button",{directives:[{name:"tooltip",rawName:"v-tooltip.auto",value:{content:"Approve"},expression:"{\n              content: 'Approve'\n            }",modifiers:{auto:!0}}],staticClass:"btn approve-logo",class:e.process===a.id+"_Approved"?"wait":"",attrs:{disabled:e.process.startsWith(a.id)},on:{click:function(t){return e.updateStatus(a,"Approved")}}}):e._e(),e.user.flag>0&&"Under Review"===a.status?s("button",{directives:[{name:"tooltip",rawName:"v-tooltip.auto",value:{content:"Reject"},expression:"{\n              content: 'Reject'\n            }",modifiers:{auto:!0}}],staticClass:"btn reject-logo",class:e.process===a.id+"_Rejected"?"wait":"",attrs:{disabled:e.process.startsWith(a.id)},on:{click:function(t){return e.updateStatus(a,"Rejected")}}}):e._e()])]),s("div",{staticClass:"about"},[s("div",[s("span",[e._v(e._s("Art"===a.submission_type?"Artwork":"Music")+" Title")]),e._v(e._s(a.title)+" ")]),s("div",[s("span",[e._v("Artist Name")]),e._v(e._s(a.artist_name))]),s("div",[s("span",[e._v("Type")]),e._v(e._s(a.type))]),"Music"===a.submission_type?s("div",[s("span",[e._v("Release Date")]),e._v(e._s(a.release)+" ")]):e._e()]),"Music"===a.submission_type?s("div",{staticClass:"about"},[s("div",[s("span",[e._v("Album Title")]),e._v(e._s(a.optional_album_title||"--")+" ")]),s("div",[s("span",[e._v("Record Label")]),e._v(e._s(a.optional_record_label||"--")+" ")]),s("div",[s("span",[e._v("Purchase Url")]),e._v(e._s(a.optional_purchase_url||"--")+" ")])]):e._e(),0!==Object.keys(a.socials).filter((function(e){return""!==a.socials[e]})).length?s("div",{staticClass:"about socials"},e._l(Object.keys(a.socials).filter((function(e){return""!==a.socials[e]})),(function(e){return s("a",{key:a.time+e,staticClass:"social",class:e,attrs:{href:a.socials[e]}})})),0):e._e(),null!==a.mediaId?s("div",{staticClass:"media"},["Art"===a.submission_type?s("img",{attrs:{src:a.mediaURL}}):e._e(),"Music"===a.submission_type?s("div",{staticClass:"player"},[s("button",{staticClass:"btn",class:e.playing===a.id?"pause":"play",on:{click:function(t){e.playing===a.id?e.playerPause(a.id):e.playerPlay(a.id)}}}),s("input",{ref:"slider"+a.id,refInFor:!0,attrs:{type:"range",min:"0",max:"100",step:"1"},domProps:{value:0},on:{change:function(t){return e.seekPlayer(t,a.id)}}}),s("div",{staticClass:"time"},[s("div",{ref:"current"+a.id,refInFor:!0},[e._v("0:00")]),s("div",{ref:"duration"+a.id,refInFor:!0},[e._v("0:00")])])]):e._e(),"Music"===a.submission_type?s("audio",{ref:a.id,refInFor:!0,attrs:{src:a.mediaURL},on:{loadedmetadata:function(t){return e.loadPlayer(t,a.id)},timeupdate:function(t){return e.changeCurrentTime(t,a.id)}}}):e._e()]):e._e()])}))],2)})),1)},pe=[],me=s("7212"),he=(s("bbe3"),{name:"Submissions",components:{Swiper:me["Swiper"],SwiperSlide:me["SwiperSlide"]},directives:{swiper:me["directive"]},data(){return{playing:null,isDesktop:!0,process:"",swiperOptions:{slidesPerView:1,spaceBetween:5,breakpoints:{850:{slidesPerView:2,spaceBetween:15}}}}},computed:{submissions(){return this.$store.getters.submissions},user(){return this.$store.getters.user}},watch:{"submissions.Art"(){setTimeout(()=>{this.$refs.swiper.$swiper.emit("resize")},1500)},"submissions.Music"(){setTimeout(()=>{this.$refs.swiper.$swiper.emit("resize")},1500)}},methods:{async playerPlay(e){this.playing=null,await this.submissions["Music"].map(e=>{this.$refs[e.id][0].pause()}),this.$refs[e][0].play(),this.playing=e},playerPause(e){this.$refs[e][0].pause(),this.playing=null},fmtMSS(e){return(e-(e%=60))/60+(9<e?":":":0")+e},loadPlayer(e,t){this.$refs["duration"+t][0].innerHTML=this.fmtMSS(~~e.target.duration)},changeCurrentTime(e,t){this.$refs["current"+t][0].innerHTML=this.fmtMSS(~~e.target.currentTime),this.$refs["slider"+t][0].value=~~e.target.currentTime/~~e.target.duration*100},seekPlayer(e,t){this.$refs[t][0].currentTime=e.target.value*~~this.$refs[t][0].duration/100},async downloadMedia(e,t){let s=this.submissions[e][t];this.process=s.id+"_download";let a=s.mediaURL.split("?")[1].split("token=")[1],i=await fetch(`/api/v1/download?type=${s.submission_type}&userId=${s.author.uid}&mediaId=${s.mediaId}&token=${a}`).then(e=>e.blob()),r=document.createElement("a");r.href=URL.createObjectURL(i),r.download=s.id,r.style.display="none",document.body.appendChild(r),r.click(),URL.revokeObjectURL(r.href),document.body.removeChild(r),this.process=""},async updateStatus(e,t){try{this.process=`${e.id}_${t}`,await h["a"].firestore().collection("submissions").doc(e.id).update({status:t,mediaId:"Rejected"===t?null:e.mediaId}),"Rejected"===t&&await h["a"].storage().ref().child(`${e.submission_type}/${e.author.uid}/${e.mediaId}`).delete(),await this.$store.dispatch("updateStatus",{id:e.id,type:e.submission_type,status:t}),this.process="",this.$store.dispatch("setAlert",{message:`Submission ${t}.`,type:"success"})}catch(s){this.process="",this.$store.dispatch("setAlert",{message:"An error occurred, please try again",type:"Error"})}}},mounted(){this.isDesktop=window.innerWidth>850,window.addEventListener("resize",()=>{this.isDesktop=window.innerWidth>850})}}),ve=he,ge=(s("deac"),Object(c["a"])(ve,de,pe,!1,null,"b8d16af0",null)),_e=ge.exports,be={name:"Main",components:{Navigation:$,Submissions:_e,Submit:ie,Join:ue,Contact:Z,Team:J},data(){return{playing:null}},computed:{user(){return this.$store.getters.user}},async mounted(){await this.$store.dispatch("setUser",h["a"].auth().currentUser.uid),this.$store.dispatch("getSubmissions",this.user.flag)}},fe=be,ye=(s("b7e0"),Object(c["a"])(fe,K,Q,!1,null,"5c3bfc74",null)),we=ye.exports,$e=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("Navigation"),s("div",{staticClass:"main"},[s("div",{staticClass:"title"},[e._v(" "+e._s(e.user.flag>0?"Dashboard":"Updates")+" "),s("span",[e._v(" "+e._s(e.user.flag>0?"With great power comes great responsibility.":"Updates to messages you sended from join us.")+" ")])]),e.user.flag>=2?s("section",[s("div",{staticClass:"sub-title"},[e._v(" Add or Remove Artist / Staff "+e._s(3===e.user.flag?"/ Admins":"")+" ")]),s("div",{staticClass:"group"},[s("div",[s("label",[e._v("Type")]),s("span",[s("input",{directives:[{name:"model",rawName:"v-model",value:e.type,expression:"type"}],attrs:{type:"radio",name:"type",value:"artist"},domProps:{checked:e._q(e.type,"artist")},on:{change:function(t){e.type="artist"}}}),e._v("Artist")]),s("span",[s("input",{directives:[{name:"model",rawName:"v-model",value:e.type,expression:"type"}],attrs:{type:"radio",name:"type",value:"staff"},domProps:{checked:e._q(e.type,"staff")},on:{change:function(t){e.type="staff"}}}),e._v("Staff")]),s("span",[3===e.user.flag?s("input",{directives:[{name:"model",rawName:"v-model",value:e.type,expression:"type"}],attrs:{type:"radio",name:"type",value:"admin"},domProps:{checked:e._q(e.type,"admin")},on:{change:function(t){e.type="admin"}}}):e._e(),e._v("Admin")])])]),s("div",{staticClass:"group"},[s("div",{staticStyle:{flex:"1"}},[s("label",[e._v("User Email")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"}],staticClass:"input",attrs:{type:"text",placeholder:"Email"},domProps:{value:e.email},on:{input:function(t){t.target.composing||(e.email=t.target.value)}}})])]),"admin"===e.type?s("div",{staticClass:"buttons"},[s("button",{attrs:{disabled:"add"===e.process||"remove"===e.process},on:{click:function(t){return e.addRemove("add")}}},[e._v(" "+e._s("add"===e.process?"adding...":"Add Admin")+" ")]),s("button",{attrs:{disabled:"add"===e.process||"remove"===e.process},on:{click:function(t){return e.addRemove("remove")}}},[e._v(" "+e._s("remove"===e.process?"removing...":"Remove Admin")+" ")])]):e._e(),"staff"===e.type?s("div",{staticClass:"buttons"},[s("button",{attrs:{disabled:"add"===e.process||"remove"===e.process},on:{click:function(t){return e.addRemove("add")}}},[e._v(" "+e._s("add"===e.process?"adding...":"Add Staff")+" ")]),s("button",{attrs:{disabled:"add"===e.process||"remove"===e.process},on:{click:function(t){return e.addRemove("remove")}}},[e._v(" "+e._s("remove"===e.process?"removing...":"Remove Staff")+" ")])]):e._e(),"artist"===e.type?s("div",{staticClass:"buttons"},[s("button",{attrs:{disabled:"add"===e.process||"remove"===e.process},on:{click:function(t){return e.addRemove("add")}}},[e._v(" "+e._s("add"===e.process?"unbanning...":"Unban Artist")+" ")]),s("button",{attrs:{disabled:"add"===e.process||"remove"===e.process},on:{click:function(t){return e.addRemove("remove")}}},[e._v(" "+e._s("remove"===e.process?"banning...":"Ban Artist")+" ")])]):e._e()]):e._e(),s("section",{staticClass:"messages"},[s("div",{staticClass:"sub-title"},[e._v(" "+e._s(e.user.flag>0?"Messages":"Updates")+" • "+e._s(e.messages.length)+" ")]),0===e.messages.length?s("p",[e._v(" No "+e._s(e.user.flag>0?"messages":"updates")+" to show here yet. ")]):s("div",e._l(e.messages,(function(t){return s("div",{key:t.id,staticClass:"group",class:t.unread?"unread":""},[s("div",{staticClass:"message"},[e._v(" "+e._s("join"===t.type?t.author.name:t.author)+" • "),"reply"!==t.type?s("a",{attrs:{href:"mailto:"+t.email}},[e._v(e._s(t.email))]):e._e(),e._v(" "+e._s("reply"!==t.type?"":"Reply to your message")+" "),s("label",[e._v(" "+e._s("join"===t.type?"Join us • ":"reply"===t.type?"":"Contact us • ")+e._s(new Date(t.time).toLocaleDateString()+" at "+new Date(t.time).toLocaleTimeString()))]),"contact"===t.type||"reply"===t.type?s("textarea",{ref:"textarea",refInFor:!0,attrs:{readonly:"",rows:"1"},domProps:{value:t.content}}):s("div",{staticClass:"join"},[s("div",{staticClass:"inner-group"},[s("div",[s("span",[e._v("Name")]),e._v(" "+e._s("join"===t.type?t.author.name:t.author)+" ")]),s("div",[s("span",[e._v("Email ")]),s("a",{attrs:{href:"mailto:"+t.email}},[e._v(e._s(t.email))])]),s("div",[s("span",[e._v("Age ")]),e._v(" "+e._s(t.content.age))]),s("div",[s("span",[e._v("Location ")]),e._v(" "+e._s(t.content.location)+" ")])]),s("div",[s("span",[e._v("Socials")]),s("textarea",{ref:"textarea",refInFor:!0,attrs:{readonly:"",rows:"1"},domProps:{value:t.content.socials}})]),e._l(t.content.questions,(function(a,i){return s("div",{key:t.id+i},[s("span",[e._v(e._s(a.question))]),s("textarea",{ref:"textarea",refInFor:!0,attrs:{readonly:"",rows:"1"},domProps:{value:a.answer}})])})),t.replied?e._e():s("div",{staticClass:"reply"},[s("textarea",{ref:"reply_"+t.id,refInFor:!0,staticClass:"input",staticStyle:{border:"1px solid var(--text-tertiary)"},attrs:{placeholder:"Reply"}}),s("div",[s("button",{staticClass:"button",attrs:{disabled:e.process==="replying_"+t.id},on:{click:function(s){return e.reply(t.id,t.author)}}},[e._v(" "+e._s(e.process==="replying_"+t.id?"replying...":"Reply")+" ")])])])],2)]),s("div",{staticClass:"btn-container"},[t.unread?s("button",{directives:[{name:"tooltip",rawName:"v-tooltip.auto",value:{content:"Mark as Read"},expression:"{\n                content: 'Mark as Read'\n              }",modifiers:{auto:!0}}],staticClass:"btn read",class:e.process==="read_"+t.id?"wait":"",attrs:{disabled:e.process==="read_"+t.id},on:{click:function(s){return e.markAsRead(t.id)}}}):e._e(),s("button",{directives:[{name:"tooltip",rawName:"v-tooltip.auto",value:{content:"Delete"},expression:"{\n                content: 'Delete'\n              }",modifiers:{auto:!0}}],staticClass:"btn delete",class:e.process==="delete_"+t.id?"wait":"",attrs:{disabled:e.process==="delete_"+t.id},on:{click:function(s){return e.deleteMessage(t.id)}}})])])})),0)])])],1)},Ce=[],Ae={name:"Dashboard",components:{Navigation:$},data(){return{email:"",process:"",type:"artist"}},computed:{user(){return this.$store.getters.user},messages(){return this.$store.getters.messages}},methods:{async addRemove(e){try{if(!this.email)return this.$store.dispatch("setAlert",{message:"Email is required.",type:"Error"});this.process=e;let t=await h["a"].auth().currentUser.getIdTokenResult(!0).then(e=>e.token),s=await fetch(`/api/v1/addRemove?email=${this.email}&action=${e}&type=${this.type}`,{method:"post",headers:new Headers({Authorization:""+t})}).then(e=>e.json());if(this.process="",this.email="",!s.success)throw new Error;this.$store.dispatch("setAlert",{message:s.message,type:"success"})}catch(t){this.process="",this.email="",this.$store.dispatch("setAlert",{message:"An error occurred, please try again",type:"Error"})}},async markAsRead(e){try{this.process="read_"+e,await h["a"].firestore().collection("messages").doc(e).update({unread:!1}),this.$store.dispatch("updateMessage",[e,"markAsRead"]),this.process="",this.$store.dispatch("setAlert",{message:"Message marked as read.",type:"success"})}catch(t){this.process="",this.$store.dispatch("setAlert",{message:"An error occurred, please try again",type:"Error"})}},async deleteMessage(e){try{this.process="delete_"+e,await h["a"].firestore().collection("messages").doc(e).delete(),this.$store.dispatch("updateMessage",[e,"deleteMessage"]),this.process="",this.$store.dispatch("setAlert",{message:"Message deleted.",type:"success"})}catch(t){this.process="",this.$store.dispatch("setAlert",{message:"An error occurred, please try again",type:"Error"})}},async reply(e,t){try{if(""===this.$refs["reply_"+e][0].value)return this.$store.dispatch("setAlert",{message:"Please fill the reply field.",type:"Error"});let s=await h["a"].firestore().collection("messages").doc(e).get();if(s.data().replied)return this.$store.dispatch("setAlert",{message:"This message has already been replied too, please refresh your page.",type:"Error"});this.process="replying_"+e;let a=h["a"].firestore().batch(),i=h["a"].firestore().collection("messages").doc(),r=h["a"].firestore().collection("messages").doc(e);a.set(i,{author:h["a"].auth().currentUser.displayName,reply_to:t.uid,type:"reply",content:this.$refs["reply_"+e][0].value,unread:!0,time:Date.now()}),a.update(r,{replied:!0,unread:!1}),await a.commit(),this.$refs["reply_"+e][0].value="",await this.$store.dispatch("updateMessage",[e,"markAsRead"]),await this.$store.dispatch("updateMessage",[e,"updateReplied"]),this.process="",this.$store.dispatch("setAlert",{message:"Reply sended.",type:"success"})}catch(s){this.process="",this.$refs["reply_"+e][0].value="",this.$store.dispatch("setAlert",{message:"An error occurred, please try again",type:"Error"})}},getLink(e){return`<a href="mailto:someone@example.com">${e}</a>`}},async mounted(){await this.$store.dispatch("setUser",h["a"].auth().currentUser.uid),await this.$store.dispatch("getMessages",this.user.flag),this.$nextTick(()=>{0!==this.messages.length&&this.$refs["textarea"].map(e=>{e.style.height="auto",e.style.height=e.scrollHeight+"px"})})}},ke=Ae,xe=(s("0989"),Object(c["a"])(ke,$e,Ce,!1,null,"7088a18f",null)),Pe=xe.exports;a["default"].use(m["a"]);const Me={};h["a"].initializeApp(Me),h["a"].analytics();const Se=[{path:"/",name:"Home",component:O,meta:{auth:!1}},{path:"/team",name:"Team",component:J,meta:{auth:!1}},{path:"/contact",name:"Contact",component:Z,meta:{auth:!1}},{path:"/join",name:"Join",component:ue,meta:{auth:!0}},{path:"/account/:type?",name:"Account",component:I,meta:{auth:!1}},{path:"/submission/:type?",name:"Submission",component:we,meta:{auth:!0}},{path:"/dashboard",name:"Dashboard",component:Pe,meta:{auth:!0}},{path:"/updates",name:"Updates",component:Pe,meta:{auth:!0}}],je=new m["a"]({mode:"history",base:"/",routes:Se});je.beforeEach((e,t,s)=>{e.matched.some(e=>e.meta.auth)?h["a"].auth().onAuthStateChanged(e=>{e?s():s({path:"/account/login"})}):h["a"].auth().onAuthStateChanged(e=>{e?s({path:"/submission"}):s()})});var Ne=je,Oe=s("2f62");a["default"].use(Oe["a"]);let Ee=new Oe["a"].Store({state:{alerts:{},user:{about:{city:"",state_povince:"",country:"",company:"",job_title:"",website:""}},usernames:{},called:!1,submissions:{Music:[],Art:[]},messages:[],team:[]},mutations:{setAlert(e,t){e.alerts=t},setUser(e,t){e.user=t},filterSubmissions(e,t){e.submissions[t[1]].sort((e,s)=>"Older"===t[0].target.value?e.time-s.time:s.time-e.time)},setSubmission(e,t){e.submissions[t.submission_type].push(t),e.submissions[t.submission_type].sort((e,t)=>t.time-e.time)},async getSubmissions(e,t){if(e.called)return;e.called=!0;let s=0===t||void 0===t?h["a"].firestore().collection("submissions").where("author","==",h["a"].auth().currentUser.uid):h["a"].firestore().collection("submissions").orderBy("time","desc").limit(50),a=await s.get();a.empty||a.docs.map(async e=>{this.dispatch("setSubmission",Object.assign(e.data(),{id:e.id,mediaURL:await Re(e.data()),author:await Te(e.data().author)}))})},async setMessages(e,t){await t.map(async e=>e.author="join"===e.type?await Te(e.author):e.author),t.sort((e,t)=>t.time-e.time),e.messages=t},setUsername(e,t){e.usernames=Object.assign(this.getters.usernames,t)},updateStatus(e,t){e.submissions[t.type].filter(e=>e.id===t.id)[0].status=t.status},updateMessage(e,t){if("markAsRead"===t[1])e.messages.filter(e=>e.id===t[0])[0].unread=!1;else if("deleteMessage"===t[1]){let s=e.messages.findIndex(e=>e.id===t[0]);e.messages.splice(s,1)}else if("updateReplied"===t[1]){let s=e.messages.findIndex(e=>e.id===t[0]);e.messages[s].replied=!0}},setTeamMember(e,t){if("add"===t.type)e.team.push(t.data);else{let s=this.getters.team.findIndex(e=>e.name===t.data.name&&e.role===t.data.role);-1!==s&&e.team.splice(s,1)}}},actions:{setAlert({commit:e},t){e("setAlert",t)},async setUser({commit:e},t){let s=await h["a"].firestore().collection("users").doc(t).get();if(!s.exists)return;let a=await h["a"].auth().currentUser.getIdTokenResult().then(e=>e.claims.flag);e("setUser",Object.assign(s.data(),{flag:void 0===a?0:a,about:void 0===s.data().about?{city:"",state_povince:"",country:"",company:"",job_title:"",website:""}:s.data().about}))},filterSubmissions({commit:e},t){e("filterSubmissions",t)},setSubmission({commit:e},t){e("setSubmission",t)},getSubmissions({commit:e},t){e("getSubmissions",t)},setUsername({commit:e},t){e("setUsername",t)},updateStatus({commit:e},t){e("updateStatus",t)},updateMessage({commit:e},t){e("updateMessage",t)},async getMessages({commit:e},t){if(this.getters.messages.length>0)return;let s=0===t||void 0===t?h["a"].firestore().collection("messages").where("reply_to","==",h["a"].auth().currentUser.uid).where("type","==","reply"):h["a"].firestore().collection("messages").orderBy("type").where("type","!=","reply").limit(50),a=await s.get();a.empty||e("setMessages",a.docs.map(e=>Object.assign(e.data(),{id:e.id})))},setTeamMember({commit:e},t){e("setTeamMember",t)},async getTeam({commit:e}){if(this.getters.team.length>0)return;let t=await h["a"].firestore().collection("team").doc("all").get();t.exists&&t.data().all.map(t=>{e("setTeamMember",{type:"add",data:t})})}},getters:{user:e=>e.user,submissions:e=>e.submissions,usernames:e=>e.usernames,alerts:e=>e.alerts,messages:e=>e.messages,team:e=>e.team}});async function Re(e){if(null===e.mediaId)return null;let t=await h["a"].storage().refFromURL(`gs://heyoowebapp.appspot.com/${e.submission_type}/${e.author}/${e.mediaId}`).getDownloadURL();return t}async function Te(e){if(void 0!==Ee.getters.usernames[e])return Ee.getters.usernames[e];let t=await h["a"].firestore().collection("users").doc(e).get();return Ee.dispatch("setUsername",{[e]:t.data()}),t.data()}var Ue=Ee;a["default"].config.productionTip=!1,a["default"].use(s("e37d")),new a["default"]({router:Ne,store:Ue,render:function(e){return e(d)}}).$mount("#app")},5826:function(e,t,s){},"5aeb":function(e,t,s){},"5c0b":function(e,t,s){"use strict";s("9c0c")},"6e85":function(e,t,s){},"70e2":function(e,t,s){},"9b19":function(e,t,s){e.exports=s.p+"img/logo.b5cb06e3.svg"},"9c0c":function(e,t,s){},"9fe8":function(e){e.exports=JSON.parse('["Acoustic","Alternative","Alternative Hip Hop","Ambient","Bass Music","Blues","Breakbeat","Chillout","Chillstep","Chillwave","Chiptune","Classical","Country","Dance","Dancehall","Deep House","Disco","Downtempo","Drum & Bass","Drumstep","Dubstep","EDM","Electro","Electro House","Electronica","Electronic Rock","Electropop","Electroswing","Eurodance","Experimental","Future House","Gangsta Rap","Garage","G-funk","Glitch hop","Grime","Hardstyle","Hip Hop","Hip Hop/Rap","Holiday","House","IDM","Indie chillout","Indie Pop","Indietronica","Industrial","Instrumental","Jazz","J-Pop","Jungle","K-Pop","Latin","New Age","Nintendocore","Nu-Disco","Pop","Progressive House","Progressive Trance","Psytrance","Rap","R&B/Soul","Reggae","Rock","Singer/Songwriter","Swing","Synth Pop","Synthwave","Tech House","Techno","Trance","Trap","Trip Hop","Tropical House","Vaporwave","World"]')},b4e4:function(e,t,s){"use strict";s("6e85")},b7e0:function(e,t,s){"use strict";s("70e2")},b9b2:function(e,t,s){"use strict";s("4f2c")},c4a7:function(e,t,s){},c562:function(e,t,s){"use strict";s("e94b")},c7b5:function(e,t,s){},c977:function(e,t,s){},d12f:function(e,t,s){"use strict";s("5826")},deac:function(e,t,s){"use strict";s("c7b5")},e30c:function(e,t,s){"use strict";s("5aeb")},e731:function(e,t,s){},e94b:function(e,t,s){},ec2e:function(e,t,s){"use strict";s("c977")},fded:function(e,t,s){"use strict";s("c4a7")}});
//# sourceMappingURL=app.11f884f6.js.map